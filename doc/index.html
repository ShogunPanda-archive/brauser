<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>
  File: README
  
    &mdash; Documentation by YARD 0.8.7.3
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '';
  framesUrl = "frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><div id='filecontents'><h1 id="brauser">brauser</h1>

<p><a href="http://badge.fury.io/rb/brauser"><img src="https://badge.fury.io/rb/brauser.png" alt="Gem Version" /></a>
<a href="https://gemnasium.com/ShogunPanda/brauser"><img src="https://gemnasium.com/ShogunPanda/brauser.png?travis" alt="Dependency Status" /></a>
<a href="http://travis-ci.org/ShogunPanda/brauser"><img src="https://secure.travis-ci.org/ShogunPanda/brauser.png?branch=master" alt="Build Status" /></a>
<a href="https://codeclimate.com/github/ShogunPanda/brauser"><img src="https://codeclimate.com/github/ShogunPanda/brauser.png" alt="Code Climate" /></a>
<a href="https://coveralls.io/r/ShogunPanda/brauser"><img src="https://coveralls.io/repos/ShogunPanda/brauser/badge.png" alt="Coverage Status" /></a>
<a href="https://bitdeli.com/free" title="Bitdeli Badge"><img src="https://d2weczhvl823v0.cloudfront.net/ShogunPanda/brauser/trend.png" alt="Bitdeli Trend" /></a></p>

<p>A framework agnostic browser detection and querying helper.</p>

<p>http://sw.cow.tc/brauser</p>

<p>http://rdoc.info/gems/brauser</p>

<h2 id="description">Description</h2>

<p>Brauser is a framework agnostic helper that helps you in targeting your applications against most diffused browsers.</p>

<h3 id="installation">Installation</h3>

<p>Brauser comes with a Ruby on Rails hooks (more framework to follow), so for Rails you have just to add this to your Gemfile:</p>

<p><code>ruby
gem "brauser"
</code></p>

<p>Once done that, every controller in your application will have a <code>browser</code> method (also extended to views/layout via <code>helper_method</code>).</p>

<p>If you don’t use Rails, you can instantiate a new browser by including the gem in your code and by doing something like this:</p>

<p><code>ruby
browser = Brauser::Browser.new(USER_AGENT_HEADER, ACCEPT_LANGUAGE_HEADER)
</code></p>

<p>where the first argument is the HTTP header <code>User-Agent</code>, and the second is the HTTP header <code>Accept-Language</code>.</p>

<p>For the rest of this document, let’s assume you use Chrome 1.2.3 on Mac OS X.</p>

<h3 id="getting-browser-information">Getting browser information</h3>

<p>Once you instantiate the browser, you can query the browser about <code>name</code>, <code>version</code> and <code>platform</code>. You can also get readable name and platforms via <code>readable_name</code> and <code>platform_name</code>.</p>

<p>The version is returned as a <code>String</code>, and you can use <code>Brauser::Browser.compare_versions</code> to compare against another version.</p>

<p>The name and the platform are returned as <code>Symbol</code> and can be in the range of names and engines registered via <code>register_browser</code>, <code>register_default_browsers</code>, <code>register_platform</code> and <code>register_default_platforms</code>.</p>

<p>Also, you can get global information using <code>browser.to_s</code> or <code>browser.classes</code>. This will return an array or a string already formatted to be used in your views to scope your CSS.</p>

<p>For example, if you do this in a ERB view:</p>

<p><code>html
&lt;body class="&lt;%= browser.classes %&gt;"&gt;
...
</code></p>

<p>The view will get compiled to this:</p>

<p><code>html
&lt;body class="chrome version-1 version-1_2 version-1_2_3 platform-osx"&gt;
...
</code></p>

<p>And thus scoping your CSS will be trivial.</p>

<h3 id="querying-the-browser">Querying the browser</h3>

<p>Brauser supports querying about name (method <code>is</code>), version (method <code>v</code>), platform (method <code>on</code>) and language (method <code>accepts</code>).</p>

<p>The <code>is</code> method queries about a browser name (or a list of names) and optionally by version and platform:</p>

<p><code>ruby
# We talk about the ending ? later.
browser.is?(:chrome)
# =&gt; true
browser.is?([:msie, :firefox])
# =&gt; false
browser.is?(:chrome, {lt: "2"}, :osx)
# =&gt; true
browser.is?(:chrome, "&gt;= 3", :windows)
# =&gt; false
</code></p>

<p>The method <code>is</code> is the only which supports direct internal propagation to version and platform.</p>

<p>The <code>v</code> method queries about the browser version. You can specify the comparison with an hash or a little expression.</p>

<p>In the case of hash, the syntax is <code>{:operator =&gt; value}</code>, where <code>:operator</code> is one of <code>[:lt, :lte, :eq, :gte, :gt]</code> and value can be a Float or a String.</p>

<p>In the case of expression, the syntax is <code>OPERATOR VALUE &amp;&amp; ..</code>, where <code>OPERATOR</code> is one of <code>["&lt;", "&lt;=", "=", "==", "&gt;=", "&gt;"]</code> and value specifies the version.</p>

<p>Examples:</p>

<p><code>ruby
# Those two methods are equivalent.
browser.v?({lt: "2", gt: 1})
# =&gt; true
browser.is?("&lt; 2 &amp;&amp; &gt; 1")
# =&gt; true
</code></p>

<p>The method <code>on</code> check is the current browser in one of the specified platform. The platform should be passed as <code>Symbol</code>.</p>

<p><code>ruby
browser.on?(:osx)
# =&gt; true
browser.on?([:windows, :ios])
# =&gt; false
</code></p>

<p>At the end, the method <code>accepts</code> checks if the browser accepts one of the specified languages. Languages should be passed as language codes in <code>String</code>.</p>

<p><code>ruby
browser.accepts?("en")
# =&gt; true
browser.accepts?(["de", "es"])
# =&gt; false
</code></p>

<p>Every query method exists in two forms: the concatenation one (the method name doesn’t end with a <code>?</code>.</p>

<p>The former return a <code>Query</code> object, which supports the same query method of the browser and thus enables concatenation.</p>

<p>The latter return a boolean object, and it’s equivalent to calling <code>result</code> on the query after concatenation.</p>

<p>Ideally, you should use the <code>?</code> version to end the query and fetch the result.</p>

<p><code>ruby
# These expressions are equivalent.
browser.is?(:chrome, {lt: "2"}, :osx)
browser.is(:chrome, {lt: "2"}, :osx).result
browser.is(:chrome).v({lt: "2"}).on?(:osx)
browser.is(:chrome).v({lt: "2"}).on(:osx).result
</code></p>

<p>Finally, Brauser support dynamic query operator to write simple queries without using concatenation.</p>

<p>You construct the method just using operator specified above, separating method name and method arguments with a <code>_</code>.</p>

<p>For the version, use the expression form but use symbol operators and replace <code>.</code> with <code>_</code> and <code>&amp;&amp;</code> with <code>and</code>.</p>

<p>Example:</p>

<p>```ruby
# These expressions are equivalent.
browser.is(:chrome).v(“&lt; 2 &amp;&amp; &gt; 1.2”).on(:osx).result
browser.is_chrome_v_lt_2_and_gt_1_2_on_osx.result</p>

<h1 id="these-expressions-are-equivalent">These expressions are equivalent.</h1>
<p>browser.is(:chrome).v(“&lt; 2 &amp;&amp; &gt; 1.2”).on?(:osx)
browser.is_chrome_v_lt_2_and_gt_1_2_on_osx?
```</p>

<h3 id="adding-new-browsers">Adding new browsers</h3>

<p>To add new browsers, simply call <code>::Brauser::Browser.add(:browsers, ...)</code>.</p>

<p>This methods accepts a single instance or an array of instances of the <code>::Brauser::Definition</code> class.</p>

<p>For example, for Google Chrome the call should be:</p>

<p><code>ruby
Brauser::Browsers.add(:browsers, ::Brauser::Definition.new(:chrome, "Chrome", /((chrome)|(chromium))/i, /(.+Chrom[a-z]+\/)([a-z0-9.]+)/i))
</code></p>

<h3 id="adding-new-platforms">Adding new platforms</h3>

<p>To add new platforms, simply call <code>::Brauser::Browser.add(:platforms, ...)</code>.</p>

<p>This methods accepts a single instance or an array of instances of the <code>::Brauser::Definition</code> class.</p>

<p>For example, for Mac OS X the call should be:</p>

<p><code>ruby
Brauser::Browsers.add(:platforms, ::Brauser::Definition.new(:osx, /mac|macintosh|mac os x/i, "Apple MacOS X"))
</code></p>

<h3 id="adding-new-languages">Adding new languages</h3>

<p>To add new languages, simply call <code>::Brauser::Browser.add(:languages, ...)</code>.</p>

<p>This methods accepts a single instance or an array of instances of the <code>::Brauser::Definition</code> class.</p>

<p>For example, for Italian the call should be:</p>

<p><code>ruby
Brauser::Browsers.add(:languages, ::Brauser::Definition.new(:it, "Italian"))
</code></p>

<h2 id="contributing-to-brauser">Contributing to brauser</h2>

<ul>
  <li>Check out the latest master to make sure the feature hasn’t been implemented or the bug hasn’t been fixed yet.</li>
  <li>Check out the issue tracker to make sure someone already hasn’t requested it and/or contributed it.</li>
  <li>Fork the project.</li>
  <li>Start a feature/bugfix branch.</li>
  <li>Commit and push until you are happy with your contribution.</li>
  <li>Make sure to add tests for it. This is important so I don’t break it in a future version unintentionally.</li>
  <li>Please try not to mess with the Rakefile, version, or history. If you want to have your own version, or is otherwise necessary, that is fine, but please isolate to its own commit so I can cherry-pick around it.</li>
</ul>

<h2 id="copyright">Copyright</h2>

<p>Copyright (C) 2013 and above Shogun (shogun@cowtech.it).</p>

<p>Licensed under the MIT license, which can be found at http://www.opensource.org/licenses/mit-license.php.</p>
</div></div>

    <div id="footer">
  Generated on Fri Nov 29 17:11:55 2013 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.3 (ruby-2.0.0).
</div>

  </body>
</html>